type V2 {
  data = record {
    x: Int32;
    y: Int32;
  };
}

func double(x: Int32) -> Int32 {
  ADD(x, x)
}

func map(v: V2, f: func(Int32) -> Int32) -> V2 {
  V2::{
    x = f(v.x);
    y = f(v.y);
  }
}

func main() -> Int32 {
  let mut v = V2::{x = 20; y = 30};
  ASSIGN(v, map(v, double));
  //let p = MUT_REF(v);
  //ASSIGN(p.x, 1);
  v.x
}
